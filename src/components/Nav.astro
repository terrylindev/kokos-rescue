---
const currentPath = Astro.url.pathname;

// Define navigation items with icons for mobile
const navItems = [
  { path: "/", label: "Home", icon: "üè†" },
  { path: "/about/", label: "About", icon: "‚ÑπÔ∏è" },
  { path: "/cats/", label: "Our Cats", icon: "üê±" },
  { path: "/adopt/", label: "Adopt", icon: "üíù" },
  { path: "/foster/", label: "Foster", icon: "üè°" },
  { path: "/success-stories/", label: "Success Stories", icon: "‚≠ê" },
  { path: "/contact/", label: "Contact", icon: "‚úâÔ∏è" },
];
---

<nav class="nav-container h-full md:h-auto flex items-center">
  <ul class="nav-list flex flex-col md:flex-row md:items-center md:justify-center w-full md:w-auto gap-1 md:gap-1">
    {
      navItems.map((item, index) => (
        <li class="nav-item" style={`--delay: ${index * 50}ms`}>
          <a
            href={item.path}
            class={`nav-link group ${currentPath === item.path ? "active" : ""}`}
          >
            <span class="nav-icon md:hidden">{item.icon}</span>
            <span class="nav-label">{item.label}</span>
            <span class="nav-indicator"></span>
          </a>
        </li>
      ))
    }
    
    <!-- Mobile donate button -->
    <li class="nav-item mt-6 md:hidden" style="--delay: 350ms">
      <a href="/donate" class="mobile-donate-btn">
        <span>üíñ</span>
        <span>Donate Now</span>
      </a>
    </li>
  </ul>
</nav>

<style>
  .nav-container {
    width: 100%;
  }
  
  .nav-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  
  .nav-item {
    animation: slideIn 0.4s ease-out backwards;
    animation-delay: var(--delay);
  }
  
  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  .nav-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.875rem 1rem;
    color: #4a5a3a;
    font-weight: 500;
    font-size: 1rem;
    border-radius: 0.5rem;
    position: relative;
    transition: all 0.2s ease;
  }
  
  .nav-icon {
    font-size: 1.25rem;
    transition: transform 0.2s ease;
  }
  
  .nav-link:hover .nav-icon,
  .nav-link.active .nav-icon {
    transform: scale(1.15);
  }
  
  .nav-indicator {
    display: none;
  }
  
  .nav-link:hover,
  .nav-link:focus {
    color: #5a6b46;
    background-color: rgba(90, 107, 70, 0.08);
  }
  
  .nav-link.active {
    color: #5a6b46;
    background-color: rgba(90, 107, 70, 0.12);
    font-weight: 600;
  }
  
  .mobile-donate-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    width: 100%;
    padding: 1rem;
    background: linear-gradient(135deg, #5a6b46 0%, #7b8d69 100%);
    color: white;
    font-weight: 600;
    font-size: 1rem;
    border-radius: 0.75rem;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(90, 107, 70, 0.3);
  }
  
  .mobile-donate-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(90, 107, 70, 0.4);
  }
  
  /* Desktop styles */
  @media (min-width: 768px) {
    .nav-item {
      animation: none;
    }
    
    .nav-link {
      padding: 0.5rem 0.875rem;
      font-size: 0.875rem;
      border-radius: 0.375rem;
    }
    
    .nav-indicator {
      display: block;
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, #5a6b46, #7b8d69);
      border-radius: 1px;
      transform: translateX(-50%);
      transition: width 0.2s ease;
    }
    
    .nav-link:hover .nav-indicator,
    .nav-link.active .nav-indicator {
      width: 70%;
    }
    
    .nav-link:hover,
    .nav-link:focus {
      background-color: transparent;
    }
    
    .nav-link.active {
      background-color: transparent;
    }
  }
</style>
