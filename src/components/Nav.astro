---
const currentPath = Astro.url.pathname;

// Define navigation items for easier management
const navItems = [
  { path: "/", label: "Home" },
  { path: "/about/", label: "About" },
  { path: "/cats/", label: "Cats" },
  { path: "/adopt/", label: "Adopt" },
  { path: "/foster/", label: "Foster" },
  { path: "/success-stories/", label: "Success Stories" },
  { path: "/contact/", label: "Contact" },
];
---

<nav>
  <ul
    class="flex flex-col md:flex-row md:items-center md:justify-center text-base font-medium py-0 md:px-0 gap-1 md:gap-2"
  >
    {
      navItems.map((item) => (
        <li class="nav-item flex">
          <a
            href={item.path}
            class={`nav-link w-full ${currentPath === item.path ? "active" : ""}`}
          >
            {item.label}
          </a>
        </li>
      ))
    }
  </ul>
</nav>

<style>
  .nav-item {
    display: flex;
    align-items: stretch;
  }

  .nav-link {
    color: #4a4a3a;
    padding: 8px 12px;
    border-radius: 3px;
    position: relative;
    text-align: center;
    transition:
      background-color 0.3s ease,
      color 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    white-space: nowrap;
  }

  .nav-link:hover,
  .nav-link.active {
    color: #5a6b46;
    background-color: #e8e3d5;
  }

  /* Add the underline effect */
  .nav-link::after {
    content: "";
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: transparent;
    transition: background-color 0.3s ease;
  }

  .nav-link:hover::after,
  .nav-link.active::after {
    background-color: #5a6b46;
  }

  /* Centering the menu items */
  #nav-menu ul {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0;
    margin: 0;
    list-style: none;
  }

  #nav-menu {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  /* Medium and above screens */
  @media (min-width: 768px) {
    .nav-link {
      padding: 8px 12px;
    }

    .nav-link:hover,
    .nav-link.active {
      background-color: #e8e3d5;
      color: #5a6b46;
      border-radius: 3px;
    }

    .nav-link::after {
      bottom: -2px;
    }

    #nav-menu ul {
      flex-direction: row;
      justify-content: center;
      align-items: center;
    }

    #nav-menu {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      padding: 0;
    }
  }
</style>
