---
interface Props {
  label: string;
  href?: string;
  type?: "button" | "submit" | "reset";
  variant?: "primary" | "secondary" | "outline";
  size?: "small" | "medium" | "large";
  blank?: boolean;
  icon?: "arrow" | "heart" | "paw" | null;
}

const {
  label,
  href,
  type = "button",
  variant = "primary",
  size = "medium",
  blank = false,
  icon = null,
} = Astro.props;

const baseClasses =
  "btn inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition-all duration-300 ease-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-olive-500";
const sizeClasses =
  size === "small"
    ? "px-4 py-2 text-sm"
    : size === "large"
      ? "px-8 py-3.5 text-base"
      : "px-6 py-3 text-sm";
const variantClasses =
  variant === "secondary"
    ? "btn-secondary bg-beige-100 text-olive-800 hover:bg-beige-200 border-2 border-olive-200 hover:border-olive-300"
    : variant === "outline"
      ? "btn-outline bg-transparent text-olive-700 border-2 border-olive-400 hover:bg-olive-50 hover:border-olive-500"
      : "btn-primary bg-olive-700 text-white hover:bg-olive-800 border-2 border-olive-700 hover:border-olive-800";
const classes = `${baseClasses} ${sizeClasses} ${variantClasses}`;
---

{
  href ? (
    <a
      href={href}
      target={blank ? "_blank" : "_self"}
      rel={blank ? "noopener noreferrer" : ""}
      class={classes}
    >
      <span>{label}</span>
      {icon === "arrow" && (
        <svg class="btn-icon w-4 h-4 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
        </svg>
      )}
      {icon === "heart" && (
        <svg class="btn-icon w-4 h-4 transition-transform duration-300" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </svg>
      )}
      {icon === "paw" && (
        <span class="btn-icon text-base transition-transform duration-300">üêæ</span>
      )}
    </a>
  ) : (
    <button type={type} class={classes}>
      <span>{label}</span>
      {icon === "arrow" && (
        <svg class="btn-icon w-4 h-4 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
        </svg>
      )}
      {icon === "heart" && (
        <svg class="btn-icon w-4 h-4 transition-transform duration-300" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </svg>
      )}
      {icon === "paw" && (
        <span class="btn-icon text-base transition-transform duration-300">üêæ</span>
      )}
    </button>
  )
}

<style>
  .btn {
    position: relative;
    overflow: hidden;
  }
  
  .btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s ease;
  }
  
  .btn:hover::before {
    left: 100%;
  }
  
  .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(90, 107, 70, 0.25);
  }
  
  .btn:active {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(90, 107, 70, 0.2);
  }
  
  .btn:hover .btn-icon {
    transform: translateX(3px);
  }
  
  .btn-primary:hover {
    box-shadow: 0 4px 14px rgba(90, 107, 70, 0.4);
  }
  
  .btn-secondary:hover {
    box-shadow: 0 4px 12px rgba(90, 107, 70, 0.15);
  }
</style>
