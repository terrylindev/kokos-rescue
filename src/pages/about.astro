---
import { loadQuery } from "../sanity/lib/load-query";
import Layout from "../layouts/Layout.astro";
import Button from "../components/Button.astro";
import OurText from "../components/OurText.astro";

interface AboutData {
  content: string;
}

// Fetch about page data from Sanity
const { data: aboutData } = await loadQuery<AboutData>({
  query: `*[_type == "about"][0]{content}`,
});

const { content } = aboutData;

// Split content into paragraphs
const paragraphs = content.split("\n");
---

<Layout title="About Us">
  <!-- Hero Section -->
  <div class="bg-gradient-to-r from-orange-100 to-pink-100 py-16">
    <div class="max-w-7xl mx-auto px-4 md:px-8 text-center">
      <h1 class="text-4xl md:text-5xl font-bold mb-4 text-gray-800">
        About Us
      </h1>
      <p class="text-xl max-w-3xl mx-auto mb-8 text-gray-700 italic">
        "Every cat deserves a loving home."
      </p>
      <div class="flex justify-center">
        <Button
          label="Save A Life Today!"
          href="/donate"
          variant="primary"
          size="large"
        />
      </div>
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-4 md:px-8 py-12">
    <!-- Main Content Section -->
    <section class="flex flex-col lg:flex-row gap-12 mb-16">
      <!-- Left Column: Image -->
      <div class="lg:w-1/2 overflow-hidden rounded-xl shadow-xl">
        <img
          src="/images/adopt-cat.svg"
          alt="About Us Image"
          class="w-full h-full object-cover transform hover:scale-105 transition-transform duration-500"
        />
      </div>

      <!-- Right Column: Content -->
      <div class="lg:w-1/2">
        <div class="bg-white p-8 rounded-xl shadow-md h-full">
          <h2
            class="text-3xl font-bold mb-6 text-gray-800 border-b-2 border-red-300 pb-2"
          >
            Our Mission
          </h2>
          <div class="prose prose-lg max-w-none text-gray-700 space-y-4">
            {paragraphs.map((paragraph) => <p>{paragraph}</p>)}
          </div>
        </div>
      </div>
    </section>

    <!-- Values Section -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold mb-8 text-center text-gray-800">
        Our Core Values
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div
          class="bg-white p-6 rounded-xl shadow-md flex flex-col items-center text-center hover:shadow-lg transition-shadow"
        >
          <div class="bg-red-100 p-3 rounded-full mb-4">
            <img
              src="/images/icons8-cat-64.webp"
              alt="Compassion"
              class="w-10 h-10"
            />
          </div>
          <h3 class="text-xl font-semibold mb-2 text-gray-800">Compassion</h3>
          <p class="text-gray-600">
            Every cat in our care receives love, respect, and dignity.
          </p>
        </div>

        <div
          class="bg-white p-6 rounded-xl shadow-md flex flex-col items-center text-center hover:shadow-lg transition-shadow"
        >
          <div class="bg-red-100 p-3 rounded-full mb-4">
            <img
              src="/images/icons8-requirement.webp"
              alt="Education"
              class="w-10 h-10"
            />
          </div>
          <h3 class="text-xl font-semibold mb-2 text-gray-800">Education</h3>
          <p class="text-gray-600">
            We believe in teaching proper cat care and responsible pet
            ownership.
          </p>
        </div>

        <div
          class="bg-white p-6 rounded-xl shadow-md flex flex-col items-center text-center hover:shadow-lg transition-shadow"
        >
          <div class="bg-red-100 p-3 rounded-full mb-4">
            <img
              src="/images/icons8-vaccine.webp"
              alt="Health"
              class="w-10 h-10"
            />
          </div>
          <h3 class="text-xl font-semibold mb-2 text-gray-800">Health</h3>
          <p class="text-gray-600">
            All cats receive proper veterinary care, vaccinations, and
            treatment.
          </p>
        </div>
      </div>
    </section>

    <!-- How We Help Section -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold mb-8 text-center text-gray-800">
        How We Help
      </h2>
      <div class="relative">
        <!-- Timeline Line -->
        <div
          class="hidden md:block absolute left-1/2 h-full w-0.5 bg-red-200 transform -translate-x-1/2"
        >
        </div>

        <!-- Timeline Items -->
        <div class="space-y-12">
          <!-- Item 1 -->
          <div class="flex flex-col md:flex-row items-center">
            <div class="md:w-1/2 md:pr-12 mb-6 md:mb-0 md:text-right">
              <h3 class="text-xl font-semibold mb-2 text-gray-800">Rescue</h3>
              <p class="text-gray-600">
                We rescue cats from various challenging situations, giving them
                a second chance at life.
              </p>
            </div>
            <div
              class="md:w-8 md:h-8 bg-red-500 rounded-full z-10 my-2 md:my-0"
            >
            </div>
            <div class="md:w-1/2 md:pl-12"></div>
          </div>

          <!-- Item 2 -->
          <div class="flex flex-col md:flex-row items-center">
            <div
              class="md:w-1/2 md:pr-12 mb-6 md:mb-0 md:text-right order-1 md:order-1"
            >
            </div>
            <div
              class="md:w-8 md:h-8 bg-red-500 rounded-full z-10 my-2 md:my-0 order-2 md:order-2"
            >
            </div>
            <div class="md:w-1/2 md:pl-12 order-3 md:order-3">
              <h3 class="text-xl font-semibold mb-2 text-gray-800">
                Rehabilitate
              </h3>
              <p class="text-gray-600">
                We provide medical care, socialization, and a safe environment
                for cats to heal and grow.
              </p>
            </div>
          </div>

          <!-- Item 3 -->
          <div class="flex flex-col md:flex-row items-center">
            <div class="md:w-1/2 md:pr-12 mb-6 md:mb-0 md:text-right">
              <h3 class="text-xl font-semibold mb-2 text-gray-800">Rehome</h3>
              <p class="text-gray-600">
                We carefully match cats with loving families where they'll
                thrive for the rest of their lives.
              </p>
            </div>
            <div
              class="md:w-8 md:h-8 bg-red-500 rounded-full z-10 my-2 md:my-0"
            >
            </div>
            <div class="md:w-1/2 md:pl-12"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section
      class="bg-gradient-to-r from-blue-100 to-indigo-100 rounded-xl p-8 text-center"
    >
      <h2 class="text-3xl font-bold mb-4 text-gray-800">
        Want to Make a Difference?
      </h2>
      <p class="mb-6 text-lg text-gray-700">
        Join our mission to rescue and rehome cats in need
      </p>
      <div class="flex flex-wrap justify-center gap-4">
        <Button
          label="Adopt a Cat"
          href="/adopt"
          variant="primary"
          size="medium"
        />
        <Button
          label="Become a Foster"
          href="/foster"
          variant="primary"
          size="medium"
        />
        <Button
          label="Donate Now"
          href="/donate"
          variant="primary"
          size="medium"
        />
      </div>
    </section>
  </div>
</Layout>

<style>
  /* Custom animations */
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  section {
    animation: fadeIn 0.8s ease-out;
  }

  .bg-gradient-to-r {
    position: relative;
    overflow: hidden;
  }

  .bg-gradient-to-r::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url("/images/paw-pattern.jpg");
    background-size: 200px;
    opacity: 0.05;
    z-index: 0;
  }

  .bg-gradient-to-r > * {
    position: relative;
    z-index: 1;
  }
</style>
